import { memo } from "react";

import useChart from "./hooks/useChart";
import useTheme from "../hooks/useTheme";
import { CHART_OPTIONS } from "./utils";
import Chart from "./Chart";

interface IProps {
  title: string;
  status: Status;
  data?: number[][];
}
type Status = "loading" | "nodata";

const DUMMY_DATA = [
  [1674097200000, 20763.32, 20817.85, 20742.3, 20748.04, 9613.77],
  [1674100800000, 20748.04, 20874.81, 20742.71, 20810.18, 8614.82],
  [1674104400000, 20810.53, 20851.14, 20793.34, 20814.82, 6082.19],
  [1674108000000, 20814.82, 20856, 20799, 20828.59, 6862.7],
  [1674111600000, 20829.12, 20848.83, 20803.39, 20818.95, 7288.91],
  [1674115200000, 20818.94, 20846.75, 20758, 20769.06, 9573.55],
  [1674118800000, 20769.06, 20810, 20730.58, 20795.39, 8720.3],
  [1674122400000, 20794.73, 20802.97, 20749.98, 20796.47, 7640.4],
  [1674126000000, 20796.47, 20799.83, 20706.9, 20743.72, 9588.19],
  [1674129600000, 20744.17, 20775.71, 20679.65, 20727.03, 10629.26],
  [1674133200000, 20728.3, 20813.98, 20660.8, 20776.95, 14871],
  [1674136800000, 20776.06, 20883.8, 20718.83, 20799.4, 17213.77],
  [1674140400000, 20799.98, 20960.23, 20785, 20876.44, 18617.72],
  [1674144000000, 20876.44, 20926.84, 20826.76, 20875.41, 11822.69],
  [1674147600000, 20874.69, 20944.71, 20791.13, 20841.16, 11692.45],
  [1674151200000, 20841.16, 21023.11, 20831.08, 20977.73, 12709.1],
  [1674154800000, 20978.76, 21142.07, 20949.34, 21090.95, 15284.71],
  [1674158400000, 21092.1, 21192, 21036.76, 21102.44, 14030.56],
  [1674162000000, 21102.44, 21115.28, 20919.31, 20932.98, 8902.78],
  [1674165600000, 20933.65, 21083.57, 20930.01, 21065.23, 6648.58],
  [1674169200000, 21065.84, 21125.43, 21015.81, 21071.59, 7324.62],
  [1674172800000, 21071.59, 21121.42, 21028.95, 21054.74, 9394.97],
  [1674176400000, 21054.02, 21151.67, 21013.96, 21117.28, 9324.69],
  [1674180000000, 21116.44, 21219.6, 21078.55, 21079.66, 11547.13],
  [1674183600000, 21079.66, 21113.61, 21058.02, 21087.74, 6874.54],
  [1674187200000, 21087.74, 21127.33, 20972.24, 20991.01, 9914.72],
  [1674190800000, 20991.01, 21037.78, 20953.23, 20982.27, 10111.86],
  [1674194400000, 20983.09, 20999.8, 20926.14, 20943.73, 8809.62],
  [1674198000000, 20943.73, 20987, 20861.28, 20959.44, 9639.23],
  [1674201600000, 20958.43, 20976.35, 20898.79, 20946.15, 8841.86],
  [1674205200000, 20946.98, 20993.99, 20905.22, 20959.17, 8313.07],
  [1674208800000, 20959.76, 20970.3, 20915.41, 20962.16, 8504.9],
  [1674212400000, 20962.68, 20984.87, 20935.17, 20963.51, 7633.04],
  [1674216000000, 20963.34, 21127.28, 20955.53, 21089.54, 13835.9],
  [1674219600000, 21088.82, 21147, 21041.41, 21058.68, 12991.82],
  [1674223200000, 21059.71, 21168.69, 21013.73, 21153.97, 18814.44],
  [1674226800000, 21153, 21247.55, 21105.99, 21144.77, 18076.41],
  [1674230400000, 21145.05, 21415.64, 21140.99, 21313.29, 20597.5],
  [1674234000000, 21313.29, 21410, 21279.9, 21353.61, 15591.77],
  [1674237600000, 21353.62, 21437.3, 21290.57, 21384.49, 16897.42],
  [1674241200000, 21385.52, 21529, 21356.7, 21496.67, 15675.31],
  [1674244800000, 21496.67, 22385.41, 21495.75, 22288.37, 38250.58],
  [1674248400000, 22288.91, 22448, 22207.78, 22315.41, 20584.7],
  [1674252000000, 22316.49, 22729.99, 22313.66, 22595.08, 22178.63],
  [1674255600000, 22593.98, 22755.93, 22537.8, 22667.21, 15675.02],
  [1674259200000, 22666, 22792.86, 22422, 22576.17, 20472.44],
  [1674262800000, 22576.86, 22618.78, 22551.72, 22563.99, 9118.09],
  [1674266400000, 22563.04, 22623.21, 22508.33, 22551.05, 9133.08],
  [1674270000000, 22551.05, 22571.4, 22492.68, 22547.35, 7966.3],
  [1674273600000, 22547.83, 22643.65, 22514.6, 22597.96, 8799.64],
  [1674277200000, 22597.96, 22621.39, 22562.84, 22573.98, 6273.15],
  [1674280800000, 22573.99, 22622.99, 22554.72, 22620.93, 7304.81],
  [1674284400000, 22620.42, 22670, 22600.74, 22638.36, 8626.61],
  [1674288000000, 22638.36, 22776.31, 22626.62, 22700.63, 14325.75],
  [1674291600000, 22700.62, 23100, 22685.48, 23037.49, 21435.26],
  [1674295200000, 23037.46, 23335.77, 22595.23, 22777.52, 49733.13],
  [1674298800000, 22778.51, 22953.93, 22652.61, 22905.65, 16879.36],
  [1674302400000, 22907.01, 23087.63, 22888, 23039.5, 16479.91],
  [1674306000000, 23041.12, 23050, 22851.94, 22930.04, 13004.21],
  [1674309600000, 22930.87, 23018.92, 22875.54, 22955.26, 10483.77],
  [1674313200000, 22955.8, 23280, 22930.92, 22998.9, 20526.87],
  [1674316800000, 22998.9, 23269.73, 22980, 23197.45, 18963.01],
  [1674320400000, 23196.43, 23371.8, 23126.06, 23226.65, 21948.65],
  [1674324000000, 23225.17, 23269.99, 23053.24, 23248.52, 12484.54],
  [1674327600000, 23247.4, 23308.06, 23174.08, 23270.5, 8812.56],
  [1674331200000, 23270.97, 23299.55, 23080, 23093.38, 9845.15],
  [1674334800000, 23093.38, 23220, 23009.11, 23204.64, 8119.76],
  [1674338400000, 23203.41, 23210.91, 22737.36, 22759.71, 8554.59],
  [1674342000000, 22757.14, 22964.6, 22680.73, 22783.55, 17154.84],
  [1674345600000, 22783.35, 22979.88, 22700.06, 22877.48, 12868.13],
  [1674349200000, 22877.48, 22891.76, 22688.78, 22792.13, 11684.54],
  [1674352800000, 22793.12, 22833.26, 22602.55, 22707.64, 10857.26],
  [1674356400000, 22706.9, 22774.18, 22668.48, 22758.3, 7683.73],
  [1674360000000, 22759.08, 22868.98, 22716.72, 22847.79, 7994.63],
  [1674363600000, 22847.31, 22895.4, 22832.56, 22878.37, 7323.7],
  [1674367200000, 22878.37, 22967.33, 22862.7, 22919.67, 7256.89],
  [1674370800000, 22920.74, 22959.68, 22875, 22895.2, 7193.47],
  [1674374400000, 22895.49, 22921.24, 22809.56, 22909.76, 7787.97],
  [1674378000000, 22908.2, 22938.12, 22833.59, 22856.68, 7865.52],
  [1674381600000, 22857.48, 22903.51, 22839.09, 22872.97, 6492.94],
  [1674385200000, 22872.21, 22884.91, 22726.02, 22783.61, 9593.06],
  [1674388800000, 22784.74, 22871.68, 22700.01, 22869.56, 9487.19],
  [1674392400000, 22869.56, 22930.01, 22846.82, 22897.79, 8297.36],
  [1674396000000, 22897.79, 23040, 22866.81, 22990.41, 10098.36],
  [1674399600000, 22990.42, 23078.71, 22645.59, 22794.51, 21388.12],
  [1674403200000, 22794.63, 22862.27, 22689.72, 22819.28, 11885.65],
  [1674406800000, 22819.38, 22959.71, 22780.5, 22922.34, 12654.34],
  [1674410400000, 22922.34, 22936.84, 22818.84, 22838, 7618.15],
  [1674414000000, 22838, 22856.75, 22687.13, 22722.15, 8947.38],
  [1674417600000, 22721.88, 22736, 22292.37, 22459.46, 24946.44],
  [1674421200000, 22459.46, 22639.71, 22317, 22585.37, 16210.75],
  [1674424800000, 22585.38, 22698, 22536.26, 22676.48, 6896.86],
  [1674428400000, 22676.48, 22773.89, 22641.11, 22707.88, 10545.3],
  [1674432000000, 22706.02, 22811.15, 22660.67, 22745.28, 11526.99],
  [1674435600000, 22744.83, 22826.46, 22690.3, 22699.37, 8632.03],
  [1674439200000, 22699.37, 22757.65, 22690.3, 22752.05, 6370.1],
  [1674442800000, 22752.71, 22771.14, 22646.43, 22661.02, 9610.87],
  [1674446400000, 22661.02, 22759.49, 22659.12, 22758.32, 7413.17],
  [1674450000000, 22758.32, 22769.71, 22706.25, 22723.63, 7182.03],
  [1674453600000, 22724.48, 22794.33, 22691.66, 22773.33, 7916.97],
  [1674457200000, 22773.92, 22786, 22600.14, 22695.9, 10682.11],
  [1674460800000, 22696.61, 22769.53, 22662.38, 22719.28, 8958.39],
  [1674464400000, 22719.28, 22788, 22703.26, 22784.18, 6806.1],
  [1674468000000, 22784.85, 22957.25, 22764.91, 22909.95, 12356.09],
  [1674471600000, 22909.95, 22930, 22826.23, 22904.58, 10145.72],
  [1674475200000, 22904.58, 22978, 22808.9, 22910.74, 11855.32],
  [1674478800000, 22911.6, 22939.49, 22668.43, 22798.41, 16043.5],
  [1674482400000, 22799.89, 23115, 22500, 22622.05, 26695.68],
  [1674486000000, 22627.71, 22920, 22586.68, 22853.14, 25773.01],
  [1674489600000, 22855.44, 22935.78, 22765.27, 22911.17, 15724.16],
  [1674493200000, 22911.86, 23067.86, 22850.15, 23065.22, 14053.85],
  [1674496800000, 23065.22, 23180, 22862.07, 22936.2, 20704.32],
  [1674500400000, 22935.95, 22967.99, 22654, 22792.47, 20796.1],
  [1674504000000, 22792.47, 23034.9, 22753.71, 23022.64, 12412.72],
  [1674507600000, 23020.53, 23044.56, 22937.54, 22996, 8430.27],
  [1674511200000, 22996.82, 23034.46, 22852.01, 22925.32, 6452.03],
  [1674514800000, 22925.32, 22959.92, 22869.12, 22916.45, 7046.86],
  [1674518400000, 22917.81, 23009.79, 22864.67, 22986.44, 11074.85],
  [1674522000000, 22985.52, 23105.52, 22930.12, 23089.46, 11340.91],
  [1674525600000, 23088.48, 23144.76, 23036.27, 23036.68, 11237.87],
  [1674529200000, 23036.68, 23084, 23002.31, 23079.27, 7778.94],
  [1674532800000, 23079.87, 23121.66, 23062.82, 23072.15, 7254.74],
  [1674536400000, 23072.17, 23162.2, 23026.01, 23118.17, 10378.19],
  [1674540000000, 23118.44, 23155.82, 23062.55, 23095.63, 8342.93],
  [1674543600000, 23094.85, 23128.99, 23006.98, 23054.08, 8474.34],
  [1674547200000, 23054.7, 23090.25, 23033.8, 23053.12, 7524.42],
  [1674550800000, 23052.67, 23058.29, 22770, 22852.79, 20640.46],
  [1674554400000, 22852.21, 22942.7, 22846.12, 22902.51, 9958.06],
  [1674558000000, 22902.51, 22933.32, 22866.23, 22917.66, 7962.21],
  [1674561600000, 22917.11, 23035.31, 22882.09, 22964.13, 9509.92],
  [1674565200000, 22963.2, 23016.8, 22785.01, 22859.93, 13527.1],
  [1674568800000, 22860.37, 22961.18, 22711, 22859.1, 23597.18],
  [1674572400000, 22859.1, 22959.88, 22750.01, 22931.36, 18056.79],
  [1674576000000, 22931.36, 22949.26, 22841.48, 22875.18, 10325.67],
  [1674579600000, 22875.18, 22927.37, 22785.59, 22913.49, 12103.89],
  [1674583200000, 22913.49, 23050, 22877.19, 22999.85, 12618.86],
  [1674586800000, 23000, 23079, 22961.85, 23018.53, 9156.89],
  [1674590400000, 23017.73, 23040.27, 22879.08, 23010.34, 12069.37],
  [1674594000000, 23009.3, 23080.45, 22818.02, 22902.84, 12787.61],
  [1674597600000, 22902.84, 22929.63, 22669.42, 22755.52, 16704.72],
  [1674601200000, 22755.47, 22786.96, 22462.93, 22632.89, 20732.85],
  [1674604800000, 22631.94, 22715.06, 22498, 22652.23, 17892.85],
  [1674608400000, 22651.23, 22665.58, 22300, 22490.64, 20404.84],
  [1674612000000, 22491.58, 22597.64, 22481.31, 22549.89, 9228.52],
  [1674615600000, 22550.24, 22650, 22535.09, 22643.61, 8574.9],
  [1674619200000, 22643.04, 22658.64, 22620.12, 22624.83, 6541.57],
  [1674622800000, 22625.32, 22737.58, 22606.04, 22670.72, 8150.81],
  [1674626400000, 22671.42, 22739.18, 22634.86, 22713.76, 7677.15],
  [1674630000000, 22713.59, 22772, 22694.79, 22712.45, 7723.7],
  [1674633600000, 22711.85, 22739.11, 22655.67, 22659.72, 7981.89],
  [1674637200000, 22659.71, 22709.73, 22570.76, 22607.26, 10756.71],
  [1674640800000, 22607.26, 22630.78, 22475, 22611.9, 13147.51],
  [1674644400000, 22610.91, 22628.42, 22561.18, 22598.47, 7114.5],
  [1674648000000, 22598.45, 22745, 22591.7, 22694.23, 14564.02],
  [1674651600000, 22694.22, 22729.99, 22565.01, 22595.72, 10785.19],
  [1674655200000, 22595.08, 22625.73, 22415.35, 22435.47, 21076.45],
  [1674658800000, 22435.47, 22606.35, 22335, 22577.86, 24088.09],
  [1674662400000, 22578.79, 22690.44, 22516.98, 22629.75, 15332.31],
  [1674666000000, 22629.75, 22653.93, 22510, 22568.94, 11718.4],
  [1674669600000, 22569.11, 22726.43, 22555.44, 22724.9, 11231.18],
  [1674673200000, 22724.9, 22765.3, 22651.75, 22748.86, 12624.58],
  [1674676800000, 22749.97, 22950.91, 22749.93, 22938.09, 20417.83],
  [1674680400000, 22935.92, 23700, 22832.38, 23592.55, 31154.76],
  [1674684000000, 23592.56, 23816.73, 22816.66, 22932.2, 28641.82],
  [1674687600000, 22933.23, 23212, 22886.4, 23060.94, 19213.25],
  [1674691200000, 23060.42, 23282.47, 23041.14, 23240.42, 16188.13],
  [1674694800000, 23240.42, 23247, 23133.49, 23163.24, 12552.92],
  [1674698400000, 23163.24, 23265, 23137.79, 23178.98, 10376.81],
  [1674702000000, 23178.98, 23231.89, 23104.67, 23136.16, 10049.37],
  [1674705600000, 23136.16, 23197.8, 23105.35, 23179.35, 9398.71],
  [1674709200000, 23178.7, 23192.47, 23130.55, 23147.48, 8116.17],
  [1674712800000, 23148.26, 23164.11, 22897.17, 23087.87, 17426.85],
  [1674716400000, 23088.63, 23096.78, 22951.27, 22966.73, 10343.21],
  [1674720000000, 22965.81, 23048.49, 22923.56, 23003.87, 9445.43],
  [1674723600000, 23003.11, 23036.69, 22900, 22970.7, 9896.51],
  [1674727200000, 22970.7, 22995.72, 22850.01, 22939.26, 11848.43],
  [1674730800000, 22939.26, 22993.9, 22895.48, 22992.94, 8135.88],
  [1674734400000, 22992.09, 23147.98, 22962.2, 23120.96, 12845.26],
  [1674738000000, 23120.96, 23154.21, 22880.95, 23128.35, 20626.57],
  [1674741600000, 23127.49, 23250, 22922, 23039.35, 25786.19],
  [1674745200000, 23037.23, 23179.38, 22901, 22958.02, 21930.22],
  [1674748800000, 22955.16, 23032.16, 22853.81, 23003.98, 16062.05],
  [1674752400000, 23003.33, 23062.77, 22958.5, 22982.85, 9892.05],
  [1674756000000, 22983.25, 23106.51, 22959, 23037.16, 10194.87],
  [1674759600000, 23038.01, 23091.7, 22980.87, 23070, 7455.18],
  [1674763200000, 23068.57, 23195, 23037, 23112.57, 9669.55],
  [1674766800000, 23110.98, 23121.32, 22963.07, 23081.77, 8416.37],
  [1674770400000, 23081.78, 23150, 22989.36, 23003.79, 6241.33],
  [1674774000000, 23004.81, 23036.3, 22967.3, 23009.65, 6026.39],
  [1674777600000, 23009.65, 23076.62, 22897.02, 22925.5, 10025.56],
  [1674781200000, 22925.08, 22968.73, 22534.88, 22647.48, 18777.71],
  [1674784800000, 22647.44, 22815.4, 22602.85, 22781.67, 10444.73],
  [1674788400000, 22781.67, 22843.29, 22761.49, 22772.62, 6934.89],
  [1674792000000, 22772.2, 22858.22, 22760.64, 22802.81, 6170.87],
  [1674795600000, 22802.3, 23100, 22796.95, 23034.92, 12715.19],
  [1674799200000, 23034.92, 23054.96, 22970, 23002.92, 9903.44],
  [1674802800000, 23002.48, 23081.83, 22934.35, 23072.77, 9935.35],
  [1674806400000, 23072.29, 23083.87, 22925.1, 22964.51, 10846.11],
  [1674810000000, 22964.51, 22985.88, 22905, 22947.87, 7625.15],
  [1674813600000, 22947.87, 22989.99, 22936.18, 22959.52, 4578.84],
];

const ChartPlaceholder = memo<IProps>(({ title, status, data }) => {
  const { chartX, setChartX: setChart } = useChart();
  const { isLightTheme } = useTheme();

  let statusContent;
  if (status === "loading") {
    statusContent = "Loading...";
  } else if (status === "nodata") {
    statusContent = (
      <>
        <p className="text-xl text-center z-[2] tracking-wide font-semibold dark:font-medium">
          Something Went Wrong
        </p>
        <p className="text-big text-center z-[2] tracking-wide font-semibold dark:font-medium">
          No Data Found
        </p>
      </>
    );
  }

  const outputData = data || DUMMY_DATA;

  return (
    <>
      <Chart
        title={title}
        data={outputData}
        chartType={CHART_OPTIONS[0]}
        chartX={chartX}
        setChart={setChart}
        onchart={[]}
      />
      <div
        className="absolute bottom-0 w-full h-full flex flex-col gap-5 items-center justify-center"
        style={{
          backgroundImage: isLightTheme
            ? "linear-gradient(transparent -30%, #F8FAFF 105%)"
            : "linear-gradient(transparent -30%, #0f1213 105%)",
        }}
      >
        <div
          className={`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 
              bg-brand-iris blur-2xl w-[100px] h-[100px]`}
        />
        {statusContent}
      </div>
    </>
  );
});

export default ChartPlaceholder;
