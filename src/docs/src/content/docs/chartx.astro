<script>
  import { Chart } from "../../../public/tradex-chart.es"
  import state from "../../../public/1hour-no-indicators"

  const title = "BTC/USDT"
  const config = {
    title: title,
    symbol: "btcusdt",
    utils: {},
    tools: {},
    theme: {
      tools: {
        location: false,
      },
      utils: {
        location: false,
      }
    },
    watermark: {
      text: title
    },
    highLow: true,
    isCrypto: true,
    state: state,
  }

  try {
    const chart = document.createElement("tradex-chart")
    const chartDiv = document.getElementById("chart")
    
    if (chartDiv) {
      chartDiv.appendChild(chart)
      chart.start(config)
      chart.addIndicator("EMA")
      chart.addIndicator("RSI")
      
      // Expose chart instance for debugging
      if (typeof window !== 'undefined') {
        window.chart0 = chart
      }
    } else {
      console.error('Chart container element not found')
    }
  } catch (error) {
    console.error('Failed to initialize TradeX Chart:', error)
  }
</script>
<style>
  #chart {
    min-height: 60vh;
    height: calc(100vh - 400px);
    position: relative;
  }
</style>

<div id="chart"></div>
